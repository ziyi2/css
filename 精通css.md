# 精通Css
## 基础知识
-  除非确定元素是页面上唯一的存在才使用id为元素命名，否则使用通用的class命名。
-  类不应该被滥用，应该视情况而定，除非特殊情况，应该使用**层叠**标识某些元素。如果发现添加了许多类，那么可能意味着HTML文档结构有问题。
- div元素并非没有语义，实际代表着**部分**(division)，可以将文档分割为几个有意义的区域，为了将不必要的标记减到最少，应该只有在没有现有元素能够实现区域分割的情况下使用div元素，例如以下代码是非必要的。

``` html
<div class="nav">
 <ul>
    <li>Home</li>
    <li>Contact</li>
  </ul>
</div>
```

-  DOCTYPE声明用于浏览器解析DTD(文档类型定义）、HTML文档有效性验证以及浏览器模式的设定(标准模式和混杂模式)等。

## 为样式找到应用目标

- :link和:visited称为链接伪类，:hover、:active和:focus称为动态伪类，理论上可以应用于任何元素。可以试试:visited:hover的效果。
- 后代选择器选择一个元素的所有后代，而子选择器值选择元素的直接后代。
- 层叠和特殊性可以参考《css权威指南》。
- 特殊性中需要说明的是如果css规则没有起到作用，那很有可能是出现了特殊性冲突，可以在选择器中添加一个它的父元素id(如果页面中的所有样式都是以class进行设计，那么要增加特殊性其实只要添加id就能做到，当然也并不是滥用id，比id更高的就是内联样式和!important了，但是这里最好也别滥用!important)。  
- 使用@import导入样式和link的链接样式的区别：兼容性问题(链接样式无兼容性问题)，导入样式的浏览器下载时间比链接样式慢等。当然如果要在css样式表中引入外部的样式表，就需要使用@import了。

### 设计css代码的结构

 一般性样式
 - 主体样式（body标记的应该由站点上所有元素继承的样式）
 - reset样式
 - 链接
 - 标题
 - 其他元素
 
辅助样式
 - 表单
 - 通知和错误
 - 一致的条目
 
页面结构
 - 标题、页脚和导航
 - 布局
 - 其他页面结构元素
 
页面组件 
 - 各个页面
 
覆盖

> tip: 其实可见这样的代码结构从上至下处理的样式越来越特殊，这样有助于维护样式表，而防止非预期的特殊性覆盖问题。

建立统一风格的注释则有助于快速寻找特性样式以及规划css代码

``` css
/* @group general styles
---------------------------------------------*/

/* @group helper styles
---------------------------------------------*/

/* @group page structure
---------------------------------------------*/

/* @group page components
---------------------------------------------*/

/* @group overrides
---------------------------------------------*/
```

除了@group这种结构注释，也可以增加自我提示注释，例如

``` css
/* @colordef #434343; dark gray */
/* @todo 以后需要进行修改、修复或复查 */
/* @bugfix 特定浏览器遇到的问题等 */
/* @workaround 并不完善的权宜之计 */
```

>tip: 这些关键字称为gotcha，都是[CSSDoc项目](http://cssdoc.net) 的一部分，目的是为样式表开发一套标准的注释语法。  

## 可视化格式模型

### 盒模型

盒模型：页面上的每个元素都可以看做是一个矩形框，这个框由元素的内容、内边距、边框和外边距组成。
- 内边距：出现在内容区域的周围，如果在元素上增加背景，那么背景会应用于元素的内容和内边距。通过增加内边距可以在内容周围创建隔离带，内容不会和背景混在一起。
- 边框：内边距的区域外形成的一条线
- 外边距：主要用于**控制元素之间的间隔**。

> CSS2.1还包括outline(轮廓)属性，与border属性不同的是轮廓绘制在元素框之上，不影响元素的大小或定位，轮廓有助于修复bug?

```
// 注意这样覆盖浏览器样式是有副作用的，例如对option元素有不利影响，因此可以使用全局reset显示设置样式
* {
	margin: 0;
	padding: 0;
}
```

#### IE和盒模型

IE早期版本包括IE6在**混杂模式**使用的是非标准盒模型，在混杂模式中width不仅仅是元素内容的宽度，而是内容、内边距和边框的宽度总和。

> 除了使用CSS3的box-sizing属性目前最好的方法是不要给元素添加具有指定宽度的内边距，而是尝试将内边距或外边距添加到元素的父元素或子元素。

#### 外边距叠加

外边距叠加是指当两个或多个**垂直外边距**相遇时，只会形成一个外边距。这个外边距的高度等于这几个外边距中高度最大者。

- 当一个元素包含在另一个元素中时(**假设子元素没有内边距或边框将外边距分隔开**)，父子元素之间的顶或底外边距也会发生叠加。
- 外边距甚至可以与本身发生叠加，假设一个空元素**没有边框和内边距**，这种情况下顶外边距和底外边距碰在一起就会发生叠加，取其中的较大者。
- 只有**普通文档流**中的块框的**垂直外边距**才会发生外边距叠加 ，**行内框、浮动框或绝对定位框**之间的外边距不会叠加。

### 定位

CSS中有3种基本的定位机制：普通流、浮动和绝对定位。

行内框在一行中水平排列，可以使用水平内边距、边框和外边距调整它们之间的水平间距，但是垂直内边距、边框和外边距不影响行内框的高度。在行内框上设置显式的高度和宽度是没有影响的。修改行内框尺寸的唯一方法是修改行高、水平边框、内边距或外边距。

### 相对定位

元素仍然占据原来的空间。相对定位实际上被看做普通流定位的一部分，因为元素的位置是相对于它在普通流中的位置。


### 绝对定位

绝对定位使元素的位置与文档流无关，因此不占据空间，普通文档流中其他元素的布局就像绝对定位的元素不存在时一样。绝对定位的元素的位置相对于距离它最近的那个已定位的祖先元素进行定位，如果没有已定位的祖先元素，那么相对于初始包含块定位，初始包含块是HTML元素或者画布。







